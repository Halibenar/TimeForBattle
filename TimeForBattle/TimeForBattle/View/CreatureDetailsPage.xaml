<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewmodel="clr-namespace:TimeForBattle.ViewModel"
             x:Class="TimeForBattle.View.CreatureDetailsPage"
             x:DataType="viewmodel:CreatureDetailsViewModel"
             Title="{Binding Creature.Name}">
    <ScrollView>
        <StackLayout Margin="10">
            <Label Text="{Binding Creature.Name}"
                   FontSize="20"
                   VerticalOptions="Center" />
            <Line X1="-5"
                  X2="200"
                  Stroke="DarkRed"
                  StrokeThickness="4" />
            <Label VerticalOptions="Center"
                   FontAttributes="Italic"
                   TextColor="Grey">
                <Label.Text>
                    <MultiBinding StringFormat="{}{0} {1}, {2}">
                        <Binding Path="Creature.Size" />
                        <Binding Path="Creature.Type" />
                        <Binding Path="Creature.Alignment" />
                    </MultiBinding>
                </Label.Text>
            </Label>
            <HorizontalStackLayout Spacing="5">
                <Label VerticalOptions="Center"
                       Text="Armor Class"
                       FontAttributes="Bold" />
                <Label VerticalOptions="Center"
                       Text="{Binding Creature.ArmorClass}" />
            </HorizontalStackLayout>
            <HorizontalStackLayout Spacing="5">
                <Label VerticalOptions="Center"
                       Text="Hit Points"
                       FontAttributes="Bold" />
                <Label VerticalOptions="Center"
                       Text="{Binding Creature.MaximumHitPoints}" />
            </HorizontalStackLayout>
            <HorizontalStackLayout Spacing="5">
                <Label VerticalOptions="Center"
                       Text="Speed"
                       FontAttributes="Bold" />
                <Label VerticalOptions="Center"
                       Text="{Binding Creature.Speed}" />
            </HorizontalStackLayout>
            <HorizontalStackLayout Spacing="5"
                                   IsVisible="{Binding Creature.Skills, TargetNullValue=False}">
                <Label VerticalOptions="Center"
                       Text="Skills"
                       FontAttributes="Bold" />
                <Label VerticalOptions="Center"
                       Text="{Binding Creature.Skills}" />
            </HorizontalStackLayout>
            <HorizontalStackLayout Spacing="5"
                                   IsVisible="{Binding Creature.Vulnerabilities, TargetNullValue=False}">
                <Label VerticalOptions="Center"
                       Text="Vulnerabilities"
                       FontAttributes="Bold" />
                <Label VerticalOptions="Center"
                       Text="{Binding Creature.Vulnerabilities}" />
            </HorizontalStackLayout>
            <HorizontalStackLayout Spacing="5"
                                   IsVisible="{Binding Creature.Resistances, TargetNullValue=False}">
                <Label VerticalOptions="Center"
                       Text="Resistances"
                       FontAttributes="Bold" />
                <Label VerticalOptions="Center"
                       Text="{Binding Creature.Resistances}" />
            </HorizontalStackLayout>
            <HorizontalStackLayout Spacing="5"
                                   IsVisible="{Binding Creature.Immunities, TargetNullValue=False}">
                <Label VerticalOptions="Center"
                       Text="Immunities"
                       FontAttributes="Bold" />
                <Label VerticalOptions="Center"
                       Text="{Binding Creature.Immunities}" />
            </HorizontalStackLayout>
            <HorizontalStackLayout Spacing="5"
                                   IsVisible="{Binding Creature.Senses, TargetNullValue=False}">
                <Label VerticalOptions="Center"
                       Text="Senses"
                       FontAttributes="Bold" />
                <Label VerticalOptions="Center"
                       Text="{Binding Creature.Senses}" />
            </HorizontalStackLayout>
            <HorizontalStackLayout Spacing="5"
                                   IsVisible="{Binding Creature.Languages, TargetNullValue=False}">
                <Label VerticalOptions="Center"
                       Text="Languages"
                       FontAttributes="Bold" />
                <Label VerticalOptions="Center"
                       Text="{Binding Creature.Languages}" />
            </HorizontalStackLayout>
            <HorizontalStackLayout Spacing="5"
                                   IsVisible="{Binding Creature.ChallengeRating, TargetNullValue=False}">
                <Label VerticalOptions="Center"
                       Text="CR"
                       FontAttributes="Bold" />
                <Label VerticalOptions="Center"
                       Text="{Binding Creature.ChallengeRating}" />
            </HorizontalStackLayout>

            <VerticalStackLayout Spacing="5"
                                 IsVisible="{Binding Creature.Traits, TargetNullValue=False}">
                <Label VerticalOptions="Center"
                       Text="Traits" />
                <Line X1="-5"
                      X2="200"
                      Stroke="DarkRed"
                      StrokeThickness="4" />
                <Label VerticalOptions="Center"
                       Text="{Binding Creature.Traits}" />
            </VerticalStackLayout>

            <VerticalStackLayout Spacing="5"
                                 IsVisible="{Binding Creature.Actions, TargetNullValue=False}">
                <Label VerticalOptions="Center"
                       Text="Actions" />
                <Line X1="-5"
                      X2="200"
                      Stroke="DarkRed"
                      StrokeThickness="4" />
                <Label VerticalOptions="Center"
                       Text="{Binding Creature.Actions}" />
            </VerticalStackLayout>

            <VerticalStackLayout Spacing="5"
                                 IsVisible="{Binding Creature.BonusActions, TargetNullValue=False}">
                <Label VerticalOptions="Center"
                       Text="Bonus Actions" />
                <Line X1="-5"
                      X2="200"
                      Stroke="DarkRed"
                      StrokeThickness="4" />
                <Label VerticalOptions="Center"
                       Text="{Binding Creature.BonusActions}" />
            </VerticalStackLayout>

            <VerticalStackLayout Spacing="5"
                                 IsVisible="{Binding Creature.Reactions, TargetNullValue=False}">
                <Label VerticalOptions="Center"
                       Text="Reactions" />
                <Line X1="-5"
                      X2="200"
                      Stroke="DarkRed"
                      StrokeThickness="4" />
                <Label VerticalOptions="Center"
                       Text="{Binding Creature.Reactions}" />
            </VerticalStackLayout>

            <VerticalStackLayout Spacing="5"
                                 IsVisible="{Binding Creature.LegendaryActions, TargetNullValue=False}">
                <Label VerticalOptions="Center"
                       Text="Legendary Actions" />
                <Line X1="-5"
                      X2="200"
                      Stroke="DarkRed"
                      StrokeThickness="4" />
                <Label VerticalOptions="Center"
                       Text="{Binding Creature.LegendaryActions}" />
            </VerticalStackLayout>

            <Button Text="Edit"
                    CommandParameter="{Binding .}"
                    Command="{Binding x:DataType='viewmodel:CreatureDetailsViewModel', Source={RelativeSource AncestorType={x:Type viewmodel:CreatureDetailsViewModel}}, Path=GoToEditCommand}" />
        </StackLayout>
    </ScrollView>
</ContentPage>